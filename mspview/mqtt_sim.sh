#!/bin/zsh

#id=0

while true;
do
	mosquitto_pub -h mqtt.eclipseprojects.io -t nimbus/modular_sensor_platform -m "{\"id\":0,\"pressure\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))],\"presence\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))]}" &&
	mosquitto_pub -h mqtt.eclipseprojects.io -t nimbus/modular_sensor_platform -m "{\"id\":1,\"pressure\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))],\"presence\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))]}" &&
	mosquitto_pub -h mqtt.eclipseprojects.io -t nimbus/modular_sensor_platform -m "{\"id\":2,\"pressure\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))],\"presence\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))]}" &&
	mosquitto_pub -h mqtt.eclipseprojects.io -t nimbus/modular_sensor_platform -m "{\"id\":3,\"pressure\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))],\"presence\":[$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256)),$(($RANDOM % 256))]}"
	#id=$(((id + 1) % 4))
done;
